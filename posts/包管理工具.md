# 包管理工具

##  yarn 相比较 npm 的优势

1、执行校验

Yarn会在每个安装包被执行前**校验其完整性**。

2、并行执行

npm会等一个包完全安装完才跳到下一个包，但yarn会并行执行包，因此速度会快很多。网上有不少比较npm和yarn安装同样多依赖的执行速度，yarn在速度方面优势明显。

3、离线模式

离线的原理比较简单，安装过的包会被保存进缓存目录，以后**安装就直接从缓存中复制过来**，这样做的本质还是会提高安装下载的速度，避免不必要的网络请求。它还能并行化操作以最大化资源利用率。

4、版本控制

npm用下来比较强的一个痛点就是：**当包的依赖层次比较深时，版本控制不够精确**。会出现相同package.json，但不同人的电脑上安装出不同版本的依赖包，出现类似 “我电脑上是好的，没问题呀”的bug很难查找。你可以使用npm-shrinkwrap来实现版本固化，版本信息会写入npm-shrinkwrap.json文件中，但它毕竟不是npm的标准配置。

而yarn天生就能实现版本固化。会生成一个类似npm-shrinkwrap.json的yarn.lock文件，文件内会描述包自身的版本号，还会锁定所有它依赖的包的版本号：yarn.lock存储这你的每个包的确切依赖版本，能确保从本地开发到生产环境，所有机器上都有精确相同的依赖版本。(确保本地能用的版本，线上也是相对应一样的版本)