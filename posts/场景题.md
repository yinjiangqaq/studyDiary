## 十亿用户的上线下线时间数据，生成统计每个时刻在线用户的数量。

1.  十亿用户的上线下线时间数据，生成统计每个时刻在线用户的数量。[过程中面试官有提示！]
    假设第 i 个用户的上下线时间为[Si, Ei] ,单位为 s，即第 i 个用户在第 Si 秒上线，在第 Ei 秒时下线。一天有 24*60*60 = 86,400s， 输出的数组长度 out 为 86400，out[i] 表示第 i 秒在线的用户数量。
    再维护两个同等长度的数组，一个是 online, 一个是 offline， online[i]表示在第 i 秒上线的人数, offline[i]表示再第 i 秒下线的人数。 out, online, offline 数组全部初始化为 0。
    十亿用户的数据是无序的。依次遍历数据[Si, Ei], online[Si]++; offline[Ei]++;  
    遍历之后，状态转移方程为 out[i] = out[i-1] + online[i] - offline[i]] ; 第 i 秒在线的人数等于第 i-1 秒在线的人数 + 在第 i 秒上线的人数 - 在第 i 秒下线的人数；
    时间复杂度 O(N)
    空间复杂度 O(N)

## 用户名片系统，有用户 id 和其他信息（还是十亿个用户），要求的功能为查找，增加，删除，查找频次较多，怎么设计？

## 九个球，一个重球，其他八个一样的轻球，用一个天平称几次，能找出这个重的球。

2 次，天平能决定三种状态，每次都是三个一样的实体做比较， 九颗球分三堆，拿两堆上去称，得到重的堆，三颗球，再三等分，得到重的球

## 一天 24 小时，时针分针重合多少次？

23 次，0 点和 24 点算一次

## 有十瓶药，每瓶里都装有 100 片药，其中有九瓶里的药每片重 10 克，另外有一瓶里的药每片重 9 克。用一个精确的电子秤(可以称出精确的重量)，药片可以从药瓶中拿出。请问怎么只称一次，称出那个轻的药瓶？

通过第一个药瓶取一颗，第二个药瓶取两颗，以此类推到结束，然后称出具体的重量之后跟假设全部都是十克相减，计算出差值，除以十得到几就是第几瓶。

## 海量日志数据，提取出某日访问百度次数最多的 IP

首先是这一天，并且是访问百度的日志中的 IP 取出来，逐个写入到一个大文件中。注意到 IP 是 32 位的，最多有个 2^32 个 IP。同样可以采用映射的方法，比如模 1000，把整个大文件映射为 1000 个小文件，再找出每个小文件中出现频率最大的 IP（可以采用 hash_map 进行频率统计，然后再找出频率最大的几个）及相应的频率。然后再在这 **1000 个最大的 IP**中，找出那个频率最大的 IP，即为所求。

## 有一个 1G 大小的一个文件，里面每一行是一个词，词的大小不超过 16 字节，内存限制大小是 1M。返回频数最高的 100 个词。

方案：顺序读文件中，对于每个词 x，取 hash(x)%5000，然后按照该值存到 5000 个小文件（记为 x0,x1,...x4999）中。这样每个文件大概是 200k 左右。

如果其中的有的文件超过了 1M 大小，还可以按照类似的方法继续往下分，直到分解得到的小文件的大小都不超过 1M。 对每个小文件，统计每个文件中出现的词以及相应的频率（可以采用 trie 树/hash_map 等），并取出出现频率最大的 100 个词（可以用含 100 个结点的最小堆），并把 100 个词及相应的频率存入文件，这样又得到了 5000 个文件。下一步就是把这 5000 个文件进行归并（类似与归并排序）的过程了。

## 家里有两个孩子，一个是女孩另一个也是女孩的概率是多少？

1/3
(这是条件概率，一个是女孩的条件下，另一个是女孩的概率)
P(A|B)
