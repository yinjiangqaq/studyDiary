## Cookie localStorage sessionStorage 的优缺点

### cookie

缺点：cookie 限制大小

​ cookie 会每次随 http 请求一起发送，浪费宽带。

### localStorage

特点：可以长期储存数据；需要手动删除数据
​ 在同一域下且同一个浏览器不同窗口页面，操作的是同一 个 localStorage

优点：可以大量保存浏览器中数据。

​ 不会随 http 请求一起发送

缺点：不同窗口下数据；**不能独立，相互干扰**。例如：删除或添加一个数据，其它的窗口也会同步删除或者添加该 数据

​ 不能被爬虫读取

​ 在浏览器的隐私模式下不能读取

​ 写入数据量大的话会卡（FF 是将 localstorage 写入内存中的）

## sessionStorage

优点：可以大量保存浏览器中数据。

​ 不同窗口下的 sessionStorage，存储相互独立；互不干扰

## 实现 add 函数

```
add(2,3,4)=9
add()()()()(2)(3,4)=9
```

利用的是函数柯里化

```js
function add() {
  var args = [...arguments].slice();

  function adder() {
    args.push(...arguments);
    return adder;
  }
  adder.toString = function () {
    return args.reduce((a, b) => a + b);
  };
  return adder;
}
console.log(add(1, 2, 3, 4)()()(5).toString()); //15
```
